# ðŸ“Š Distributed Tracing Configuration
# Spring Cloud Sleuth + Zipkin
#
# Trace IDs will appear in logs as: [appName,traceId,spanId]
# Example: [trade-execution,abc123def,xyz789]

# Sleuth Configuration
spring.sleuth.sampler.probability=1.0
# 1.0 = 100% sampling (trace everything) - reduce in production

# Zipkin Configuration (optional - for visualization)
spring.zipkin.base-url=http://localhost:9411
spring.zipkin.enabled=false
# Set to true if you want to export to Zipkin server

# Application name (appears in traces)
spring.application.name=trade-execution-module

# Logging pattern (includes trace IDs)
logging.pattern.level=%5p [${spring.application.name:},%X{traceId:-},%X{spanId:-}]

# Additional tracing settings
spring.sleuth.web.skipPattern=/actuator.*|/health.*
spring.sleuth.propagation.type=B3
spring.sleuth.kafka.enabled=true

# Actuator endpoints for trace inspection
management.endpoints.web.exposure.include=health,info,metrics,httptrace
management.trace.http.enabled=true
